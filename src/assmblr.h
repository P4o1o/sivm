#ifndef SIVM_ASSMBLR_H
#define SIVM_ASSMBLR_H
#include "env.h"

#define IS_INDENT(c) ((c == '\t') || (c == '\r') || (c == '\a') || (c == '\v') || (c == '\b') || (c == '\e'))

struct Inrstr{
    char *mnem;
    uint8_t code;
    uint8_t addr;
    uint8_t r_num;
};

struct Inrstr instr_set[254] = {
    []  = { "EXIT", 0, 0, 0 },

    []  = { "CMP", 0b00100000, 0, 2 },
    []  = { "TEST", 0b00110000, 0, 1 },

    []  = { "JUMP", 0b00010000, 1, 0 },
    []  = { "JZ", 0b00010001, 1, 0 },
    []  = { "JNZ", 0b00010010, 1, 0 },

    []  = { "MOVE", 0b00001000, 0, 2 },
    []  = { "MOVI", 0b00001001, 1, 1 },

    []  = { "LOAD", 0b00000100, 1, 1 },
    []  = { "STORE", 0b00000101, 1, 1 },

    []  = { "PUSH", 0b00000010, 0, 1 },
    []  = { "POP", 0b00000011, 0, 1 },

    []  = { "ADD", 0b10000001, 0, 3 },
    []  = { "SUB", 0b10000010, 0, 3 },
    []  = { "MUL", 0b10000011, 0, 3 },
    [] = { "DIV", 0b10000100, 0, 3 },
    [] = { "MOD", 0b10000101, 0, 3 },

    [] = { "AND", 0b11000000, 0, 3 },
    [] = { "OR", 0b11000001, 0, 3 },
    [] = { "XOR", 0b11000010, 0, 3 },
    [] = { "NOT", 0b11000011, 0, 2 },
    [] = { "SHL", 0b11000100, 0, 3 },
    [] = { "SHR", 0b11000101, 0, 3 },
}

#endif